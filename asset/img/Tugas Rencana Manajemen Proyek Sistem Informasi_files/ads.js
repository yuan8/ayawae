/* :files, 'spec_javascripts', ... @ (none) */


/* :files, 'spec_javascripts', ... @ (none) */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1459545735 */


/* :asset_packager_compatibility, 'config/asset_packages.yml' @ 1459545809 */
/* public/javascripts/ads/base.coffee @ 1459545809 */
(function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},n=[].slice;null==window.Scribd&&(window.Scribd={}),null==Scribd.Ads&&(Scribd.Ads={}),Scribd.Ads.attributes={},Scribd.Ads.queued_for_display={},Scribd.Ads.units_displayed={},e=function(e){return e.match(/.*_(\d+)x(\d+)/).slice(1).map(function(e){return parseInt(e,10)})},Scribd.Ads.deferred=function(){return this._deferred||(this._deferred=$.Deferred(function(e){return function(t){return t.done(function(){return e.gpt_loaded=!0}),t.fail(function(){return $(document.body).addClass("ads_disabled")})}}(this)))},Scribd.Ads.initialize=function(t){var n,i,r,s,o,a,c;if(a=t.units,n=t.attributes,this.account_prefix=t.account_prefix,this.debug_placeholders=t.debug_placeholders,googletag){if(this.setAdLayouts(),this.adUnits=a,this.enabled=0!==this.attributes.AdLayout[0]&&"https"!==document.location.protocol,this.enabled&&"disable"===Scribd.nway_test_choice_value("doc_page_ads")&&(this.enabled=!1),!this.enabled)return void Scribd.log("ads are not enabled");for(this.gpt_slots||(this.gpt_slots=[]),this.gpt_slots_by_name||(this.gpt_slots_by_name={}),i=0,s=n.length;s>i;i++)o=n[i],r=o[0],c=o[1],this.addAttribute(r,c);return this.addAttribute("UseTest",""+Math.floor(10*Math.random())),this.set_data_layer(),googletag.cmd.push(function(n){return function(){var i,r,s,o,a,u,l,h,d,f,p,m;try{h=n.adUnits;for(l in h)o=h[l],u=""+n.account_prefix+l,f=e(l),m=googletag.defineSlot(u,f,o),(p="function"==typeof t.size_mapping_for_unit?t.size_mapping_for_unit(l):void 0)&&m.defineSizeMapping(p),m.addService(googletag.pubads()),n.gpt_slots.push(m),n.gpt_slots_by_name[l]=m;d=n.attributes;for(i in d)r=d[i],r=r instanceof Array?function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)c=r[e],n.push(""+c);return n}():""+r,googletag.pubads().setTargeting(i,r);return googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),n.deferred().resolve()}catch(a){return s=a,"undefined"!=typeof console&&null!==console?console.error(s):void 0}}}(this))}},Scribd.Ads.addAttribute=function(e,n){var i,r,s,o,a,c;if(null==e||null==n)throw"addAttribute called without name or value";if(a=!0,i=null!=(r=this.attributes)[e]?r[e]:r[e]=[],n instanceof Array)for(a=!1,s=0,o=n.length;o>s;s++)c=n[s],t.call(i,c)>=0||(a=!0,i.push(c));else t.call(i,n)>=0?a=!1:i.push(n);return a&&this.gpt_loaded&&googletag.pubads().setTargeting(e,i),a},Scribd.Ads.addAttributeIfSmaller=function(e,t){var n;if(!(n=this.attributes[e]))return this.addAttribute(e,t);if(n.length>1)throw"can't use Scribd.Ads.addAttributeIfSmaller for attribute, '"+e+"' with multiple values";return t<n[0]?this.attributes[e][0]=t:void 0},Scribd.Ads.addUnit=function(t,n,i){var r,s;return null==i&&(i={}),this.enabled?(s=e(t),null==n&&(n=t+"_container"),r=document.getElementById(n),r.style.width=s[0]+"px",r.style.height=s[1]+"px",this.queued_for_display[t]=!0,this.deferred().done(function(e){return function(){return e.units_displayed[t]&&"undefined"!=typeof console&&null!==console&&console.error("We already tried to display the unit: "+t),delete e.queued_for_display[t],e.units_displayed[t]=!0,e.debug_placeholders?r.classList.add("ad_debug_placeholder"):(googletag.display(n),i.refresh?Scribd.Ads.RefreshUnit.create_if_allowed(t,n):void 0)}}(this))):void 0},Scribd.Ads.betweenUnitForPage=function(e){return 1===e?"Doc_Between_Top_FullBanner_468x60":2===e?"Doc_Between_Leaderboard_BTF_728x90_"+e:e%2===1&&21>=e?"Doc_Between_Leaderboard_BTF_728x90_"+e:void 0},Scribd.Ads.addBetweenPageUnit=function(t){var n,i,r,s,o,a;if(this.enabled&&!navigator.userAgent.match(/iPad/i)&&(o=this.betweenUnitForPage(t)))return n=document.getElementById("between_page_ads_"+t),r=document.createElement("div"),r.id="between_page_ads_inner_"+t,r.style.position="absolute",n.appendChild(r),s=e(o),a=s[0],i=s[1],n.style.height=i+"px",n.style.width=a+"px",this.addUnit(o,r.id)},Scribd.Ads.disable=function(){return this.deferred().reject()},Scribd.Ads.set_data_layer=function(){var e,t,n,i,r,s,o,a,c,u,l,h,d,f,p,m;window.dataLayer=[],c={},u=this.attributes;for(p in u)m=u[p],a={},a[p]=m[0],window.dataLayer.push(a),("IAB_A-L"===p||"IAB_M-Z"===p)&&m.length>=2&&(f={},f[p+"_SUB"]=m[1],window.dataLayer.push(f));if(this.attributes["IAB_A-L"])for(l=Scribd.Ads.attributes["IAB_A-L"],t=function(e){var t;return t="SC_121_"+e,a={},a[t]="yes",dataLayer.push(a)},i=0,s=l.length;s>i;i++)e=l[i],t(e);if(this.attributes["IAB_M-Z"])for(h=this.attributes["IAB_M-Z"],n=function(e){var t;return t="SC_121_"+e,a={},a[t]="yes",dataLayer.push(a)},r=0,o=h.length;o>r;r++)e=h[r],n(e);return Scribd.geoModule(function(e){return window.dataLayer.push({country_code:e})}),Scribd.with_named_current_user(function(){return function(){var e,t;return e=Scribd.named_current_user(),e&&window.dataLayer.push({secret_sauce:Scribd.named_current_user().secret_sauce}),(null!=e?e.active_archive_purchase:void 0)||(null!=(t=Scribd.current_doc)?t.adfree_publisher:void 0)?window.dataLayer.push({ads_free:!0}):void 0}}(this)),(null!=(d=Scribd.current_doc)?d.author_name:void 0)?window.dataLayer.push({publisher_name:Scribd.current_doc.author_name.replace(/(\s+|\.)/g,"")}):void 0},Scribd.Ads.setFacebookAttribute=function(){var e;return(e=FB.getUserID())?this.addAttribute("FBID",e):void 0},Scribd.Ads.size=function(){return 600},_.bindAll.apply(_,[Scribd.Ads].concat(n.call(_.functions(Scribd.Ads))))}).call(this);


/* public/javascripts/ads/ad_layouts.coffee @ 1459545809 */
(function(){var e;e=function(){return Math.random()<=.01?trackEvent.apply(null,arguments):void 0},Scribd.Ads.setAdLayouts=function(){var t,n,i,r,s,o,a,c,u;return Scribd.Ads.setRefererType(),u=function(t,n){return Scribd.Ads.addAttributeIfSmaller("AdLayout",t),e("AdTargeting","SpecialCase",n,0,!1)},(null!=(n=Scribd.current_doc)?n.adfree_publisher:void 0)&&u(0,"AdFreePublisher"),(null!=(i=Scribd.current_doc)?i.adult_uploader:void 0)&&u(0,"AdultUploader"),(null!=(r=Scribd._named_current_user)?r.has_purchased:void 0)&&u(0,"UserPurchasedDocument"),(null!=(s=Scribd.current_doc)?s.is_owner:void 0)&&u(0,"UserViewingOwnDocument"),(null!=(o=Scribd._named_current_user)?o.uploaded_at_least_three:void 0)&&u(0,"UserUploadedThreeOrMore"),(null!=(a=Scribd.current_doc)?a.is_private:void 0)&&u(1,"UserViewingPrivateDoc"),(null!=(c=Scribd.current_doc)?c.can_purchase:void 0)&&u(1,"UserViewingUnpurchasedDoc"),(t=window.location.href.match(/[?#&]adLayout=(\d)(?:[?#&]|$)/i))&&(t=parseInt(t[1],10),Scribd.log("forcing ad layout "+t),delete Scribd.Ads.attributes.AdLayout,Scribd.Ads.addAttribute("AdLayout",t)),e("AdTargeting","AdLayout",""+Scribd.Ads.attributes.AdLayout[0],0,!1)},Scribd.Ads.setByGeo=function(e){var t,n;return Scribd.currentLocation=Scribd.geoModule("now"),t=4,n={US:!0,CA:!0,AU:!0,GB:!0,FR:!0,IT:!0,DE:!0,NL:!0,BE:!0,PT:!0,CH:!0,AT:!0,SE:!0,DK:!0,IE:!0,NO:!0,FI:!0}[Scribd.currentLocation],t=e?n?3:4:n?1:3,Scribd.Ads.addAttributeIfSmaller("AdLayout",t)},Scribd.Ads.setRefererType=function(t){var n,i,r,s,o,a,c,u,l,d;return t||(t=document.referrer),r=/^https?:\/\/([^\/]+)/i,a=/[?&][pq]=([^&]+)/i,d=/^(?:[^.]+\.)?([^.]+)\.(?:(?:ac|com|edu|gc|gov|net|org|per|sch|co)\.?[^.]+)$/i,l=t.match(r),c="",l&&(u=l[1],i=u.match(d),n="",i&&(n=i[1]),o=t.match(a),o?(s=o[1],c=s.match(/scribd/i)?"branded search":"organic search"):n.match(/google|yahoo|ask|bing/i)&&(c="unknown search"),n.match(/^ycombinator.com|hackerne.ws|reddit.com$/i)&&(c="premium","reddit"!==n&&(n="hackernews"),Scribd.Ads.addAttributeIfSmaller("AdLayout",1)),c&&e("refererType",n,c,0,!1)),Scribd.Ads.setByGeo(!!c.match(/search$/))}}).call(this);


/* public/javascripts/ads/refresh_unit.coffee @ 1459545809 */
(function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=function(e,t){var n,i;return null!=(n="undefined"!=typeof Scribd&&null!==Scribd&&null!=(i=Scribd.ServerOptions)?i[e]:void 0)?n:t},Scribd.Ads.trackEngagement=!1,Scribd.Ads.userIsActive=!1,Scribd.Ads.inactivityTimer=null,Scribd.Ads.idleTimeBeforeInactive=e("ad_refresh_idle_time_before_inactive",60),Scribd.Ads.refreshInterval=e("ad_refresh_interval",60),Scribd.Ads.delayBeforeTrackingEngagement=e("ad_refresh_engagement_tracking_delay",0),setTimeout(function(){return Scribd.Ads.trackEngagement=!0},1e3*Scribd.Ads.delayBeforeTrackingEngagement),Scribd.Ads.onUserActivity=function(){return Scribd.Ads.userIsActive=!0,clearTimeout(Scribd.Ads.inactivityTimer),Scribd.Ads.inactivityTimer=setTimeout(Scribd.Ads.onUserInactivity,1e3*Scribd.Ads.idleTimeBeforeInactive)},Scribd.Ads.onUserInactivity=function(){return Scribd.Ads.userIsActive=!1},Scribd.Ads.observingUserActivity=!1,Scribd.Ads.observeUserActivity=_.once(function(){return Scribd.Ads.observingUserActivity?void 0:(Scribd.Ads.onUserActivity(),$(document).mousemove(Scribd.Ads.onUserActivity),$(window).scroll(Scribd.Ads.onUserActivity),Scribd.Ads.observingUserActivity=!0)}),Scribd.Ads.RefreshUnit=function(){function e(e,t){return this.name=e,this.el_id=t,this.el=$("#"+this.el_id),this.slot=Scribd.Ads.gpt_slots_by_name[this.name],Scribd.Ads.observeUserActivity(),this.slot?(this.setup_refresh(),this.listen_for_hover(),void Scribd.log("Created refresh unit: "+this.name)):void console.warn("Missing slot for "+this.name)}var n;return n=["US","GB","FR","DE","JP"],e.create_if_allowed=function(e,i){return 1===Scribd.Ads.attributes.AdLayout[0]?Scribd.geoModule(function(r){return t.call(n,r)>=0?new Scribd.Ads.RefreshUnit(e,i):void 0}):Scribd.Ads.attributes.AdLayout[0]>1?new Scribd.Ads.RefreshUnit(e,i):void 0},e.prototype.setup_refresh=function(){return this.times_refreshed=0,this.timer=null,this.last_refreshed=null,this.set_next_refresh()},e.prototype.listen_for_hover=function(){return this.el.on("mouseenter",function(e){return function(){return e.is_over=!0}}(this)),this.el.on("mouseleave",function(e){return function(){return e.is_over=!1}}(this))},e.prototype.get_duration=function(){var e;return null!=(e=this._duration)?e:1e3*Scribd.Ads.refreshInterval},e.prototype.stop_refreshing=function(){return this.timer?(clearTimeout(this.timer),delete this.timer):void 0},e.prototype.set_next_refresh=function(){return this.stop_refreshing(),this.refresh_after=this.get_duration()+ +new Date,this.timer=setInterval(function(e){return function(){return e.refresh_after<+new Date?(e.refresh(),e.set_next_refresh()):void 0}}(this),2e3)},e.prototype.refresh=function(){return!Scribd.Ads.userIsActive&&Scribd.Ads.trackEngagement||this.is_over?void 0:(Scribd.log("Refreshing unit: "+this.name),this.times_refreshed+=1,googletag.pubads().refresh([this.slot]))},e}(),Scribd.Ads.addRefreshUnit=function(){}}).call(this);


/* :files, 'public/javascripts/shared', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :files, 'app/views', ... @ (none) */


/* :class_inlines, 'app/views', ... @ (none) */
